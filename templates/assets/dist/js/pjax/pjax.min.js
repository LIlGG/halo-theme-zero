import{z as oe}from"../zero.min.js";var g={exports:{}},v=function(t,e,r){return t instanceof HTMLCollection||t instanceof NodeList||t instanceof Array?Array.prototype.forEach.call(t,e,r):e.call(r,t)},ie=function(t){var e=t.text||t.textContent||t.innerHTML||"",r=t.src||"",a=t.parentNode||document.querySelector("head")||document.documentElement,n=document.createElement("script");if(e.match("document.write"))return console&&console.log&&console.log("Script contains document.write. Can’t be executed correctly. Code skipped ",t),!1;if(n.type="text/javascript",n.id=t.id,r!==""&&(n.src=r,n.async=!1),e!=="")try{n.appendChild(document.createTextNode(e))}catch{n.text=e}return a.appendChild(n),(a instanceof HTMLHeadElement||a instanceof HTMLBodyElement)&&a.contains(n)&&a.removeChild(n),!0},se=v,F=ie,ce=function(t){t.tagName.toLowerCase()==="script"&&F(t),se(t.querySelectorAll("script"),function(e){(!e.type||e.type.toLowerCase()==="text/javascript")&&(e.parentNode&&e.parentNode.removeChild(e),F(e))})},ue=v,b=function(t,e,r,a){e=typeof e=="string"?e.split(" "):e,e.forEach(function(n){ue(t,function(i){i.addEventListener(n,r,a)})})},$=b,D={outerHTML:function(t,e){t.outerHTML=e.outerHTML,this.onSwitch()},innerHTML:function(t,e){t.innerHTML=e.innerHTML,e.className===""?t.removeAttribute("class"):t.className=e.className,this.onSwitch()},switchElementsAlt:function(t,e){if(t.innerHTML=e.innerHTML,e.hasAttributes())for(var r=e.attributes,a=0;a<r.length;a++)t.attributes.setNamedItem(r[a].cloneNode());this.onSwitch()},replaceNode:function(t,e){t.parentNode.replaceChild(e,t),this.onSwitch()},sideBySide:function(t,e,r,a){var n=Array.prototype.forEach,i=[],s=[],o=document.createDocumentFragment(),f="animationend webkitAnimationEnd MSAnimationEnd oanimationend",u=0,l=function(c){c.target===c.currentTarget&&(u--,u<=0&&i&&(i.forEach(function(d){d.parentNode&&d.parentNode.removeChild(d)}),s.forEach(function(d){d.className=d.className.replace(d.getAttribute("data-pjax-classes"),""),d.removeAttribute("data-pjax-classes")}),s=null,i=null,this.onSwitch()))}.bind(this);a=a||{},n.call(t.childNodes,function(c){i.push(c),c.classList&&!c.classList.contains("js-Pjax-remove")&&(c.hasAttribute("data-pjax-classes")&&(c.className=c.className.replace(c.getAttribute("data-pjax-classes"),""),c.removeAttribute("data-pjax-classes")),c.classList.add("js-Pjax-remove"),a.callbacks&&a.callbacks.removeElement&&a.callbacks.removeElement(c),a.classNames&&(c.className+=" "+a.classNames.remove+" "+(r.backward?a.classNames.backward:a.classNames.forward)),u++,$(c,f,l,!0))}),n.call(e.childNodes,function(c){if(c.classList){var d="";a.classNames&&(d=" js-Pjax-add "+a.classNames.add+" "+(r.backward?a.classNames.forward:a.classNames.backward)),a.callbacks&&a.callbacks.addElement&&a.callbacks.addElement(c),c.className+=d,c.setAttribute("data-pjax-classes",d),s.push(c),o.appendChild(c),u++,$(c,f,l,!0)}}),t.className=e.className,t.appendChild(o)}},X=D,le=function(t){return t=t||{},t.elements=t.elements||"a[href], form[action]",t.selectors=t.selectors||["title",".js-Pjax"],t.switches=t.switches||{},t.switchesOptions=t.switchesOptions||{},t.history=typeof t.history>"u"?!0:t.history,t.analytics=typeof t.analytics=="function"||t.analytics===!1?t.analytics:fe,t.scrollTo=typeof t.scrollTo>"u"?0:t.scrollTo,t.scrollRestoration=typeof t.scrollRestoration<"u"?t.scrollRestoration:!0,t.cacheBust=typeof t.cacheBust>"u"?!0:t.cacheBust,t.debug=t.debug||!1,t.timeout=t.timeout||0,t.currentUrlFullReload=typeof t.currentUrlFullReload>"u"?!1:t.currentUrlFullReload,t.switches.head||(t.switches.head=X.switchElementsAlt),t.switches.body||(t.switches.body=X.switchElementsAlt),t};function fe(){window._gaq&&_gaq.push(["_trackPageview"]),window.ga&&ga("send","pageview",{page:location.pathname,title:document.title})}var te=function(){var t=0;return function(){var e="pjax"+new Date().getTime()+"_"+t;return t++,e}}(),de=v,re=function(t,e,r){e=typeof e=="string"?e.split(" "):e,e.forEach(function(a){var n;n=document.createEvent("HTMLEvents"),n.initEvent(a,!0,!0),n.eventName=a,r&&Object.keys(r).forEach(function(i){n[i]=r[i]}),de(t,function(i){var s=!1;!i.parentNode&&i!==document&&i!==window&&(s=!0,document.body.appendChild(i)),i.dispatchEvent(n),s&&i.parentNode.removeChild(i)})})},S=function(t){if(t===null||typeof t!="object")return t;var e=t.constructor();for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},he=function(e,r,a){for(var n=0;n<r.length;n++)for(var i=e.querySelectorAll(r[n]),s=0;s<i.length;s++)if(i[s].contains(a))return!0;return!1},me=function(t){if(t==null)return null;for(var e=Object(t),r=1;r<arguments.length;r++){var a=arguments[r];if(a!=null)for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ae=function(){},R,O;function pe(){return O||(O=1,R=function(){this.options.debug&&console&&(typeof console.log=="function"?console.log.apply(console,arguments):console.log&&console.log(arguments))}),R}var A,B;function ve(){if(B)return A;B=1;var t="data-pjax-state";return A=function(e){switch(e.tagName.toLowerCase()){case"a":e.hasAttribute(t)||this.attachLink(e);break;case"form":e.hasAttribute(t)||this.attachForm(e);break;default:throw"Pjax can only be applied on <a> or <form> submit"}},A}var q,I;function we(){if(I)return q;I=1;var t=b,e=S,r="data-pjax-state",a=function(s,o){if(!i(o)){var f=e(this.options),u=n(s,o);if(u){s.setAttribute(r,u);return}if(o.preventDefault(),this.options.currentUrlFullReload&&s.href===window.location.href.split("#")[0]){s.setAttribute(r,"reload"),this.reload();return}s.setAttribute(r,"load"),f.triggerElement=s,this.loadUrl(s.href,f)}};function n(s,o){if(o.which>1||o.metaKey||o.ctrlKey||o.shiftKey||o.altKey)return"modifier";if(s.protocol!==window.location.protocol||s.host!==window.location.host)return"external";if(s.hash&&s.href.replace(s.hash,"")===window.location.href.replace(location.hash,""))return"anchor";if(s.href===window.location.href.split("#")[0]+"#")return"anchor-empty"}var i=function(s){return s.defaultPrevented||s.returnValue===!1};return q=function(s){var o=this;s.setAttribute(r,""),t(s,"click",function(f){a.call(o,s,f)}),t(s,"keyup",function(f){f.keyCode===13&&a.call(o,s,f)}.bind(this))},q}var T,J;function ye(){if(J)return T;J=1;var t=b,e=S,r="data-pjax-state",a=function(o,f){if(!s(f)){var u=e(this.options);u.requestOptions={requestUrl:o.getAttribute("action")||window.location.href,requestMethod:o.getAttribute("method")||"GET"};var l=document.createElement("a");l.setAttribute("href",u.requestOptions.requestUrl);var c=i(l,u);if(c){o.setAttribute(r,c);return}f.preventDefault(),o.enctype==="multipart/form-data"?u.requestOptions.formData=new FormData(o):u.requestOptions.requestParams=n(o),o.setAttribute(r,"submit"),u.triggerElement=o,this.loadUrl(l.href,u)}};function n(o){for(var f=[],u=o.elements,l=0;l<u.length;l++){var c=u[l],d=c.tagName.toLowerCase();if(c.name&&c.attributes!==void 0&&d!=="button"){var w=c.attributes.type;if(!w||w.value!=="checkbox"&&w.value!=="radio"||c.checked){var h=[];if(d==="select")for(var m,E=0;E<c.options.length;E++)m=c.options[E],m.selected&&!m.disabled&&h.push(m.hasAttribute("value")?m.value:m.text);else h.push(c.value);for(var x=0;x<h.length;x++)f.push({name:encodeURIComponent(c.name),value:encodeURIComponent(h[x])})}}}return f}function i(o,f){if(o.protocol!==window.location.protocol||o.host!==window.location.host)return"external";if(o.hash&&o.href.replace(o.hash,"")===window.location.href.replace(location.hash,""))return"anchor";if(o.href===window.location.href.split("#")[0]+"#")return"anchor-empty";if(f.currentUrlFullReload&&o.href===window.location.href.split("#")[0])return"reload"}var s=function(o){return o.defaultPrevented||o.returnValue===!1};return T=function(o){var f=this;o.setAttribute(r,""),t(o,"submit",function(u){a.call(f,o,u)})},T}var N,Q;function ge(){if(Q)return N;Q=1;var t=v;return N=function(e,r,a,n){n=n||document,e.forEach(function(i){t(n.querySelectorAll(i),r,a)})},N}var P,z;function be(){if(z)return P;z=1;var t=v,e=D;return P=function(r,a,n,i,s,o){var f=[];n.forEach(function(u){var l=i.querySelectorAll(u),c=s.querySelectorAll(u);if(this.log&&this.log("Pjax switch",u,l,c),l.length!==c.length)throw"DOM doesn’t look the same on new loaded page: ’"+u+"’ - new "+l.length+", old "+c.length;t(l,function(d,w){var h=c[w];this.log&&this.log("newEl",d,"oldEl",h);var m=r[u]?r[u].bind(this,h,d,o,a[u]):e.outerHTML.bind(this,h,d,o);f.push(m)},this)},this),this.state.numPendingSwitches=f.length,f.forEach(function(u){u()})},P}var L,K;function Se(){if(K)return L;K=1;var t=ae;return L=function(e){e&&e.readyState<4&&(e.onreadystatechange=t,e.abort())},L}var j,V;function Ee(){return V||(V=1,j=function(t,e,r){var a=new RegExp("([?&])"+e+"=.*?(&|$)","i"),n=t.indexOf("?")!==-1?"&":"?";return t.match(a)?t.replace(a,"$1"+e+"="+r+"$2"):t+n+e+"="+r}),j}var H,_;function xe(){if(_)return H;_=1;var t=Ee();return H=function(e,r,a){r=r||{};var n,i=r.requestOptions||{},s=(i.requestMethod||"GET").toUpperCase(),o=i.requestParams||null,f=i.formData||null,u=null,l=new XMLHttpRequest,c=r.timeout||0;if(l.onreadystatechange=function(){l.readyState===4&&(l.status===200?a(l.responseText,l,e,r):l.status!==0&&a(null,l,e,r))},l.onerror=function(d){console.log(d),a(null,l,e,r)},l.ontimeout=function(){a(null,l,e,r)},o&&o.length)switch(n=o.map(function(d){return d.name+"="+d.value}).join("&"),s){case"GET":e=e.split("?")[0],e+="?"+n;break;case"POST":u=n;break}else f&&(u=f);return r.cacheBust&&(e=t(e,"t",Date.now())),l.open(s,e,!0),l.timeout=c,l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.setRequestHeader("X-PJAX","true"),l.setRequestHeader("X-PJAX-Selectors",JSON.stringify(r.selectors)),u&&s==="POST"&&!f&&l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.send(u),l},H}var U,G;function Re(){if(G)return U;G=1;var t=S,e=te,r=re;return U=function(a,n,i,s){if(s=t(s||this.options),s.request=n,a===!1){r(document,"pjax:complete pjax:error",s);return}var o=window.history.state||{};window.history.replaceState({url:o.url||window.location.href,title:o.title||document.title,uid:o.uid||e(),scrollPos:[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]},document.title,window.location.href);var f=i;n.responseURL?i!==n.responseURL&&(i=n.responseURL):n.getResponseHeader("X-PJAX-URL")?i=n.getResponseHeader("X-PJAX-URL"):n.getResponseHeader("X-XHR-Redirected-To")&&(i=n.getResponseHeader("X-XHR-Redirected-To"));var u=document.createElement("a");u.href=f;var l=u.hash;u.href=i,l&&!u.hash&&(u.hash=l,i=u.href),this.state.href=i,this.state.options=s;try{this.loadContent(a,s)}catch(c){if(r(document,"pjax:error",s),this.options.debug)throw c;return console&&console.error&&console.error("Pjax switch fail: ",c),this.latestChance(i)}},U}var C,W;function Ae(){return W||(W=1,C=function(){return window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/)}),C}var qe=ce,Y=v,Te=le,Ne=D,k=te,Pe=b,y=re,ne=S,Le=he,je=me,Z=ae,p=function(t){this.state={numPendingSwitches:0,href:null,options:null},this.options=Te(t),this.log("Pjax options",this.options),this.options.scrollRestoration&&"scrollRestoration"in history&&(history.scrollRestoration="manual"),this.maxUid=this.lastUid=k(),this.parseDOM(document),Pe(window,"popstate",function(e){if(e.state){var r=ne(this.options);r.url=e.state.url,r.title=e.state.title,r.history=!1,r.scrollPos=e.state.scrollPos,e.state.uid<this.lastUid?r.backward=!0:r.forward=!0,this.lastUid=e.state.uid,this.loadUrl(e.state.url,r)}}.bind(this))};p.switches=Ne;p.prototype={log:pe(),getElements:function(t){return t.querySelectorAll(this.options.elements)},parseDOM:function(t){var e=ve();Y(this.getElements(t),e,this)},refresh:function(t){this.parseDOM(t||document)},reload:function(){window.location.reload()},attachLink:we(),attachForm:ye(),forEachSelectors:function(t,e,r){return ge().bind(this)(this.options.selectors,t,e,r)},switchSelectors:function(t,e,r,a){return be().bind(this)(this.options.switches,this.options.switchesOptions,t,e,r,a)},latestChance:function(t){window.location=t},onSwitch:function(){y(window,"resize scroll"),this.state.numPendingSwitches--,this.state.numPendingSwitches===0&&this.afterAllSwitches()},loadContent:function(t,e){if(typeof t!="string"){y(document,"pjax:complete pjax:error",e);return}var r=document.implementation.createHTMLDocument("pjax"),a=/<html[^>]+>/gi,n=/\s?[a-z:]+(?:=['"][^'">]+['"])*/gi,i=t.match(a);if(i&&i.length&&(i=i[0].match(n),i.length&&(i.shift(),i.forEach(function(s){var o=s.trim().split("=");o.length===1?r.documentElement.setAttribute(o[0],!0):r.documentElement.setAttribute(o[0],o[1].slice(1,-1))}))),r.documentElement.innerHTML=t,this.log("load content",r.documentElement.attributes,r.documentElement.innerHTML.length),document.activeElement&&Le(document,this.options.selectors,document.activeElement))try{document.activeElement.blur()}catch{}this.switchSelectors(this.options.selectors,r,document,e)},abortRequest:Se(),doRequest:xe(),handleResponse:Re(),loadUrl:function(t,e){e=typeof e=="object"?je({},this.options,e):ne(this.options),this.log("load href",t,e),this.abortRequest(this.request),y(document,"pjax:send",e),this.request=this.doRequest(t,e,this.handleResponse.bind(this))},afterAllSwitches:function(){var t=Array.prototype.slice.call(document.querySelectorAll("[autofocus]")).pop();t&&document.activeElement!==t&&t.focus(),this.options.selectors.forEach(function(s){Y(document.querySelectorAll(s),function(o){qe(o)})});var e=this.state;if(e.options.history&&(window.history.state||(this.lastUid=this.maxUid=k(),window.history.replaceState({url:window.location.href,title:document.title,uid:this.maxUid,scrollPos:[0,0]},document.title)),this.lastUid=this.maxUid=k(),window.history.pushState({url:e.href,title:e.options.title,uid:this.maxUid,scrollPos:[0,0]},e.options.title,e.href)),this.forEachSelectors(function(s){this.parseDOM(s)},this),y(document,"pjax:complete pjax:success",e.options),typeof e.options.analytics=="function"&&e.options.analytics(),e.options.history){var r=document.createElement("a");if(r.href=this.state.href,r.hash){var a=r.hash.slice(1);a=decodeURIComponent(a);var n=0,i=document.getElementById(a)||document.getElementsByName(a)[0];if(i&&i.offsetParent)do n+=i.offsetTop,i=i.offsetParent;while(i);window.scrollTo(0,n)}else e.options.scrollTo!==!1&&(e.options.scrollTo.length>1?window.scrollTo(e.options.scrollTo[0],e.options.scrollTo[1]):window.scrollTo(0,e.options.scrollTo))}else e.options.scrollRestoration&&e.options.scrollPos&&window.scrollTo(e.options.scrollPos[0],e.options.scrollPos[1]);this.state={numPendingSwitches:0,href:null,options:null}}};p.isSupported=Ae();if(p.isSupported())g.exports=p;else{var ee=Z;for(var M in p.prototype)p.prototype.hasOwnProperty(M)&&typeof p.prototype[M]=="function"&&(ee[M]=Z);g.exports=ee}new g.exports({selectors:["head title","content-wrap","post-toc-wrap","#pjax"],switches:{".post-toc-wrap":g.exports.switches.innerHTML},analytics:!1,cacheBust:!1});window.addEventListener("pjax:success",()=>{document.querySelectorAll("script[data-pjax], #pjax script").forEach(e=>{let r=e.text||e.textContent||e.innerHTML||"",a=e.parentNode;if(a===null)return;a.removeChild(e);let n=document.createElement("script");e.id&&(n.id=e.id),e.className&&(n.className=e.className),e.type&&(n.type=e.type),e.src&&(n.src=e.src,n.async=!1),e.dataset.pjax!==void 0&&(n.dataset.pjax=""),r!==""&&n.appendChild(document.createTextNode(r)),a.appendChild(n)}),oe.refresh()});
//# sourceMappingURL=pjax.min.js.map
